"use strict";const sliderList=document.querySelector(".slider-list"),slides=sliderList.querySelectorAll(".slider-item"),sliderNavList=document.querySelector(".slider-nav-list"),sliderNavButtons=sliderNavList.querySelectorAll(".slider-nav-button"),switchSlides=e=>{const t=e.target.closest(".slider-nav-button"),s=sliderNavList.querySelector(".slider-nav-button-current"),l=sliderList.querySelector(".slider-item-current");let r=0;for(let e=0;e<sliderNavButtons.length;e++)sliderNavButtons[e]===t&&(r=e);const a=slides[r];s.classList.remove("slider-nav-button-current"),l.classList.remove("slider-item-current"),t.classList.add("slider-nav-button-current"),a.classList.add("slider-item-current")};sliderNavList.addEventListener("click",e=>{e.preventDefault(),e.target.closest(".slider-nav-button")&&!e.target.closest(".slider-nav-button-current")&&switchSlides(e)});const servicesList=document.querySelector(".services-list"),services=servicesList.querySelectorAll(".services-item"),servicesNavList=document.querySelector(".services-nav-list"),servicesNavButtons=servicesNavList.querySelectorAll(".services-button"),switchServices=e=>{const t=e.target.closest(".services-button"),s=t.closest(".services-nav-item"),l=servicesNavList.querySelector(".services-nav-item-current"),r=l.querySelector(".services-button-current"),a=servicesList.querySelector(".services-item-current");let i=0;for(let e=0;e<servicesNavButtons.length;e++)servicesNavButtons[e]===t&&(i=e);const o=services[i];r.classList.remove("services-button-current"),l.classList.remove("services-nav-item-current"),a.classList.remove("services-item-current"),t.classList.add("services-button-current"),s.classList.add("services-nav-item-current"),o.classList.add("services-item-current")};servicesNavList.addEventListener("click",e=>{e.preventDefault(),e.target.closest(".services-button")&&!e.target.closest(".services-button-current")&&switchServices(e)});const linkMap=document.querySelector(".contacts-map"),popupMap=document.querySelector(".modal-wrap-map"),mapUnderlay=popupMap.querySelector(".modal-underlay-map"),mapClose=popupMap.querySelector(".button-close-map");linkMap.addEventListener("click",e=>{e.preventDefault(),popupMap.classList.add("modal-wrap-show")}),mapClose.addEventListener("click",e=>{e.preventDefault(),popupMap.classList.remove("modal-wrap-show")}),mapUnderlay.addEventListener("click",()=>{popupMap.classList.remove("modal-wrap-show")}),window.addEventListener("keydown",e=>{27!==e.keyCode&&"Escape"!==e.keyCode||popupMap.classList.contains("modal-wrap-show")&&popupMap.classList.remove("modal-wrap-show")});const linkMail=document.querySelector(".info-link-mail"),mailWrap=document.querySelector(".modal-wrap-mail"),mailUnderlay=mailWrap.querySelector(".modal-underlay-mail"),mailModal=mailWrap.querySelector(".modal-mail"),mailClose=mailModal.querySelector(".button-close-mail"),mailForm=mailModal.querySelector(".mail-form"),mailInputs=mailForm.querySelectorAll(".mail-input"),mailName=mailForm.querySelector(".mail-input-name"),mailSubmit=mailForm.querySelector(".mail-submit");let storageName="",isStorageSupport=!0;try{storageName=localStorage.getItem("name")}catch(e){isStorageSupport=!1}linkMail.addEventListener("click",e=>{if(e.preventDefault(),mailWrap.classList.add("modal-wrap-show"),isStorageSupport)for(let e=0;e<mailInputs.length;e++){let t=mailInputs[e].getAttribute("name"),s=localStorage.getItem(t);mailInputs[e].value=s}for(let e=0;e<mailInputs.length;e++){if(!mailInputs[e].value){mailInputs[e].focus();break}e===mailInputs.length-1&&mailInputs[e].focus()}mailForm.noValidate=!0}),mailForm.addEventListener("submit",e=>{if(e.preventDefault(),mailSubmit.blur(),mailForm.classList.add("mail-form-check"),mailModal.classList.remove("modal-mail-error"),isStorageSupport)for(let e=0;e<mailInputs.length-1;e++)if(mailInputs[e].checkValidity()){let t=mailInputs[e].getAttribute("name");localStorage.setItem(t,mailInputs[e].value)}for(let e of mailInputs)if(!e.checkValidity()){e.focus(),mailModal.classList.add("modal-mail-error");break}});let closePopupMail=()=>{mailWrap.classList.remove("modal-wrap-show"),mailModal.classList.remove("modal-mail-error"),mailForm.classList.remove("mail-form-check"),mailForm.reset()};mailClose.addEventListener("click",e=>{e.preventDefault(),closePopupMail()}),mailUnderlay.addEventListener("click",()=>{closePopupMail()}),window.addEventListener("keydown",e=>{27!==e.keyCode&&"Escape"!==e.keyCode||mailWrap.classList.contains("modal-wrap-show")&&closePopupMail()});